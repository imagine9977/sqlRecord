-- Drop foreign keys
ALTER TABLE COMM DROP CONSTRAINT FK_COMM_QNA;
ALTER TABLE COMM DROP CONSTRAINT FK_COMM_MEMBER;
ALTER TABLE REPLY DROP CONSTRAINT FK_REPLY_PRODUCT;
ALTER TABLE REPLY DROP CONSTRAINT FK_REPLY_MEMBER;
ALTER TABLE MEMBER_ORDERS DROP CONSTRAINT FK_MORDERS_MEMBER;
ALTER TABLE MEMBER_ORDERS_DETAIL DROP CONSTRAINT FK_MORDDETAIL_PRODUCT;
ALTER TABLE MEMBER_ORDERS_DETAIL DROP CONSTRAINT FK_MORDDETAIL_ORDER;
ALTER TABLE MEMBER_ORDERS_DETAIL DROP CONSTRAINT FK_MORDDETAIL_TRACK;
ALTER TABLE MEMBER_ORDERS_EX DROP CONSTRAINT FK_MEXCHANGE_DETAIL;
ALTER TABLE MEMBER_ORDERS_EX DROP CONSTRAINT FK_MEXCHANGE_TRACK;
ALTER TABLE TRACKING_INFO DROP CONSTRAINT FK_TRACKINFO_NUM;
ALTER TABLE QNAFILE DROP CONSTRAINT FK_QNAFILE_QNA;
ALTER TABLE MEMBER_GENRE DROP CONSTRAINT FK_MGENRE_TAG;
ALTER TABLE MEMBER_GENRE DROP CONSTRAINT FK_MGENRE_MEMBER;
ALTER TABLE MEMBER_CART DROP CONSTRAINT FK_MCART_PRODUCT;
ALTER TABLE MEMBER_CART DROP CONSTRAINT FK_MCART_MEMBER;
ALTER TABLE REPLY_FILE DROP CONSTRAINT FK_RFILE_REPLY;
ALTER TABLE REPLY_FILE DROP CONSTRAINT FK_RFILE_MEMBER;
ALTER TABLE POINT DROP CONSTRAINT FK_POINT_MEMBER;
ALTER TABLE GUEST_ORDERS DROP CONSTRAINT FK_GORDERS_GUEST;
ALTER TABLE GUEST_ORDERS_DETAIL DROP CONSTRAINT FK_GORDDETAIL_PRODUCT;
ALTER TABLE GUEST_ORDERS_DETAIL DROP CONSTRAINT FK_GORDDETAIL_ORDER;
ALTER TABLE GUEST_ORDERS_DETAIL DROP CONSTRAINT FK_GORDDETAIL_TRACK;
ALTER TABLE GUEST_ORDERS_EXCHANGE DROP CONSTRAINT FK_GEXCHANGE_DETAIL;
ALTER TABLE GUEST_ORDERS_EXCHANGE DROP CONSTRAINT FK_GEXCHANGE_TRACK;
ALTER TABLE GUEST_CART DROP CONSTRAINT FK_GCART_PRODUCT;
ALTER TABLE GUEST_CART DROP CONSTRAINT FK_GCART_GUEST;
ALTER TABLE NFILE DROP CONSTRAINT FK_NFILE_NOTICE;
ALTER TABLE CHREPLY DROP CONSTRAINT FK_CHREPLY_QNA;
ALTER TABLE CHREPLY DROP CONSTRAINT FK_CHREPLY_MEMBER;
ALTER TABLE PRODUCT_PHOTOS DROP CONSTRAINT FK_PPHOTOS_PRODUCT;



-- Drop tables with CASCADE
DROP TABLE MEMBER CASCADE CONSTRAINTS;
DROP TABLE COMM CASCADE CONSTRAINTS;
DROP TABLE NOTICE CASCADE CONSTRAINTS;
DROP TABLE REPLY CASCADE CONSTRAINTS;
DROP TABLE MEMBER_ORDERS CASCADE CONSTRAINTS;
DROP TABLE MEMBER_ORDERS_DETAIL CASCADE CONSTRAINTS;
DROP TABLE PRODUCT CASCADE CONSTRAINTS;
DROP TABLE MEMBER_ORDERS_EX CASCADE CONSTRAINTS;
DROP TABLE TRACKING_NUM CASCADE CONSTRAINTS;
DROP TABLE TRACKING_INFO CASCADE CONSTRAINTS;
DROP TABLE QNAFILE CASCADE CONSTRAINTS;
DROP TABLE QNA CASCADE CONSTRAINTS;
DROP TABLE GENRE CASCADE CONSTRAINTS;
DROP TABLE MEMBER_GENRE CASCADE CONSTRAINTS;
DROP TABLE MEMBER_CART CASCADE CONSTRAINTS;
DROP TABLE REPLY_FILE CASCADE CONSTRAINTS;
DROP TABLE GUEST CASCADE CONSTRAINTS;
DROP TABLE POINT CASCADE CONSTRAINTS;
DROP TABLE GUEST_ORDERS CASCADE CONSTRAINTS;
DROP TABLE GUEST_ORDERS_DETAIL CASCADE CONSTRAINTS;
DROP TABLE GUEST_ORDERS_EXCHANGE CASCADE CONSTRAINTS;
DROP TABLE GUEST_CART CASCADE CONSTRAINTS;
DROP TABLE NFILE CASCADE CONSTRAINTS;
DROP TABLE CHREPLY CASCADE CONSTRAINTS;
DROP TABLE PRODUCT_PHOTOS CASCADE CONSTRAINTS;
-- Drop sequences
DROP SEQUENCE MEMBER_SEQ;
DROP SEQUENCE COMM_SEQ;
DROP SEQUENCE NOTICE_SEQ;
DROP SEQUENCE REPLY_SEQ;
DROP SEQUENCE MEMBER_ORDERS_SEQ;
DROP SEQUENCE MEMBER_ORDERS_DETAIL_SEQ;
DROP SEQUENCE PRODUCT_SEQ;
DROP SEQUENCE MEMBER_ORDERS_EX_SEQ;
DROP SEQUENCE TRACKING_INFO_SEQ;
DROP SEQUENCE QNAFILE_SEQ;
DROP SEQUENCE QNA_SEQ;
DROP SEQUENCE TAG_SEQ;
DROP SEQUENCE CART_SEQ;
DROP SEQUENCE FILE_SEQ;
DROP SEQUENCE GUEST_SEQ;
DROP SEQUENCE POINT_SEQ;
DROP SEQUENCE GUEST_ORDERS_DETAIL_SEQ;
DROP SEQUENCE GUEST_ORDERS_SEQ;
DROP SEQUENCE GUEST_ORDERS_EXCHANGE_SEQ;
DROP SEQUENCE GUEST_CART_SEQ;
DROP SEQUENCE NFILE_SEQ;
DROP SEQUENCE PRODUCT_PHOTOS_SEQ;

-- Create sequences
CREATE SEQUENCE MEMBER_SEQ START WITH 1 INCREMENT BY 1;
CREATE SEQUENCE COMM_SEQ START WITH 1 INCREMENT BY 1;
CREATE SEQUENCE NOTICE_SEQ START WITH 1 INCREMENT BY 1;
CREATE SEQUENCE REPLY_SEQ START WITH 1 INCREMENT BY 1;
CREATE SEQUENCE MEMBER_ORDERS_SEQ START WITH 1 INCREMENT BY 1;
CREATE SEQUENCE MEMBER_ORDERS_DETAIL_SEQ START WITH 1 INCREMENT BY 1;
CREATE SEQUENCE PRODUCT_SEQ START WITH 1 INCREMENT BY 1;
CREATE SEQUENCE MEMBER_ORDERS_EX_SEQ START WITH 1 INCREMENT BY 1;
CREATE SEQUENCE TRACKING_INFO_SEQ START WITH 1 INCREMENT BY 1;
CREATE SEQUENCE QNAFILE_SEQ START WITH 1 INCREMENT BY 1;
CREATE SEQUENCE QNA_SEQ START WITH 1 INCREMENT BY 1;
CREATE SEQUENCE TAG_SEQ START WITH 1 INCREMENT BY 1;
CREATE SEQUENCE CART_SEQ START WITH 1 INCREMENT BY 1;
CREATE SEQUENCE FILE_SEQ START WITH 1 INCREMENT BY 1;
CREATE SEQUENCE GUEST_SEQ START WITH 1 INCREMENT BY 1;
CREATE SEQUENCE POINT_SEQ START WITH 1 INCREMENT BY 1;
CREATE SEQUENCE GUEST_ORDERS_DETAIL_SEQ START WITH 1 INCREMENT BY 1;
CREATE SEQUENCE GUEST_ORDERS_SEQ START WITH 1 INCREMENT BY 1;
CREATE SEQUENCE GUEST_ORDERS_EXCHANGE_SEQ START WITH 1 INCREMENT BY 1;
CREATE SEQUENCE GUEST_CART_SEQ START WITH 1 INCREMENT BY 1;
CREATE SEQUENCE NFILE_SEQ START WITH 1 INCREMENT BY 1;
CREATE SEQUENCE PRODUCT_PHOTOS_SEQ START WITH 1 INCREMENT BY 1;

-- Create tables
CREATE TABLE MEMBER (
    MEMBER_NO NUMBER NOT NULL,
    MEMBER_ID VARCHAR2(50) NOT NULL,
    MEMBER_PW VARCHAR2(100) NOT NULL,
    NAME VARCHAR2(20) NOT NULL,
    EMAIL VARCHAR2(100) NOT NULL,
    TELL VARCHAR(20) NOT NULL,
    ADDR1 VARCHAR(50) NOT NULL,
    ADDR2 VARCHAR(50) NOT NULL,
    POSTCODE VARCHAR(20) NOT NULL,
    BIRTH VARCHAR(20) NOT NULL,
    STATUS CHAR(1) DEFAULT 'Y' NOT NULL,
    RESDATE DATE DEFAULT SYSDATE NOT NULL
);

CREATE TABLE COMM (
    COMMENT_NO NUMBER NOT NULL,
    QNA_NO NUMBER NOT NULL,
    MEMBER_NO NUMBER NOT NULL,
    COMMENT_CONTENT VARCHAR2(600) NOT NULL,
    RESDATE DATE DEFAULT SYSDATE NOT NULL,
    STATUS VARCHAR2(1) DEFAULT 'Y' NOT NULL
);

CREATE TABLE NOTICE (
    NOTICE_NO NUMBER NOT NULL,
    NOTICE_TITLE VARCHAR2(100) DEFAULT '공지제목을 작성해주세요' NOT NULL,
    NOTICE_CATE VARCHAR2(30) NOT NULL,
    NOTICE_CONTENT VARCHAR2(2100) DEFAULT '공지를 설명해주십시오.' NOT NULL,
    RESDATE DATE DEFAULT SYSDATE NOT NULL
);

CREATE TABLE REPLY (
    REPLY_NO NUMBER NOT NULL,
    DEPTH NUMBER DEFAULT 0 NOT NULL,
    CONTENT VARCHAR2(500) NULL,
    STAR NUMBER NOT NULL,
    WRITE_DATE DATE DEFAULT SYSDATE NOT NULL,
    PRODUCT_NO NUMBER NOT NULL,
    MEMBER_NO NUMBER NOT NULL
);

CREATE TABLE MEMBER_ORDERS (
    MEMBER_ORDERS_NO NUMBER NOT NULL,
    MEMBER_ORDERS_ADDRESS VARCHAR2(500) NOT NULL,
    MEMBER_ORDERS_ADDRESS2 VARCHAR2(300) NULL,
    MEMBER_ORDERS_POSTCODE VARCHAR2(300) NOT NULL,
    MEMBER_ORDERS_DATE DATE DEFAULT SYSDATE NOT NULL,
    MEMBER_NO NUMBER NOT NULL
);

CREATE TABLE MEMBER_ORDERS_DETAIL (
    MEMBER_ORDERS_DETAIL_NO NUMBER NOT NULL,
    PRODUCT_NO NUMBER NOT NULL,
    ORDERS_NO NUMBER NOT NULL,
    MEMBER_ORDERS_DETAIL_AMOUNT NUMBER NOT NULL,
    MEMBER_ORDERS_DETAIL_PRICE NUMBER NOT NULL,
    MEMBER_ORDERS_EXD VARCHAR2(20) DEFAULT 'N' NOT NULL,
    TRACKING_NUM NUMBER NULL,
    MEMBER_ORDERS_DETAIL_STATUS VARCHAR2(500) DEFAULT '승인대기' NOT NULL
);

CREATE TABLE PRODUCT (
    PRODUCT_NO NUMBER NOT NULL,
    PRODUCT_NAME VARCHAR2(500) NOT NULL,
    PRODUCT_PRICE NUMBER NOT NULL,
    PRODUCT_STATUS VARCHAR2(50) DEFAULT 'N' NOT NULL,
    PRODUCT_DATE DATE DEFAULT SYSDATE NOT NULL,
    TAG_NO NUMBER NOT NULL,
    PRODUCT_DETAIL VARCHAR2(4000) NOT NULL,
    PRODUCT_CATE VARCHAR2(500) NOT NULL,
    COLOR VARCHAR2(500) NULL
);

CREATE TABLE MEMBER_ORDERS_EX (
    MEMBER_ORDERS_EX_NO NUMBER NOT NULL,
    MEMBER_ORDERS_EX_TYPE VARCHAR2(100) NOT NULL,
    MEMBER_ORDERS_EX_AMOUNT NUMBER NOT NULL,
    MEMBER_ORDERS_EX_DATE DATE DEFAULT SYSDATE NOT NULL,
    ORDERS_DETAIL_NO NUMBER NOT NULL,
    TRACKING_NUM NUMBER NOT NULL,
    MEMBER_ORDERS_E_ADDRESS VARCHAR2(500) NOT NULL,
    MEMBER_ORDERS_E_ADDRESS2 VARCHAR2(300) NOT NULL,
    MEMBER_ORDERS_E_POSTCODE VARCHAR2(300) NOT NULL,
    MEMBER_ORDERS_E_STATUS VARCHAR2(500) NOT NULL
);

CREATE TABLE TRACKING_NUM (
    TRACKING_NUM NUMBER NOT NULL
);

CREATE TABLE TRACKING_INFO (
    TRACKING_INFO_NUM NUMBER NOT NULL,
    TRACKING_INFO_WHERE VARCHAR2(200) NULL,
    TRACKING_INFO_DATE DATE DEFAULT SYSDATE NOT NULL,
    TRACKING_NUM NUMBER NOT NULL
);

CREATE TABLE QNAFILE (
    QNAFILE_NO NUMBER NOT NULL,
    QNAFILE_ORIGINAL VARCHAR2(200) NULL,
    QNAFILE_CHANGED VARCHAR2(200) NULL,
    QNA_NO NUMBER NOT NULL
);

CREATE TABLE QNA (
    QNA_NO NUMBER NOT NULL,
    QNA_TITLE VARCHAR2(100) DEFAULT '문제를 알려주세요' NOT NULL,
    SECRET VARCHAR2(1) DEFAULT 'N' NOT NULL,
    CATEGORY VARCHAR2(12) NOT NULL,
    QNA_CONTENT VARCHAR2(2100) DEFAULT '700자 이내 문제점을 설명해주세요' NOT NULL,
    CREATE_DATE DATE DEFAULT SYSDATE NOT NULL,
    SOLVED VARCHAR2(1) DEFAULT 'N' NOT NULL,
    COUNT NUMBER DEFAULT 0 NOT NULL,
    CHANGE_DATE DATE DEFAULT SYSDATE NOT NULL,
    DELSTATUS VARCHAR2(1) DEFAULT 'Y' NOT NULL,
    QNA_WRITER_NO NUMBER NOT NULL
);

CREATE TABLE GENRE (
    TAG_NO NUMBER NOT NULL,
    TAG_NAME VARCHAR2(20) NOT NULL
);

CREATE TABLE MEMBER_GENRE (
    TAG_NO NUMBER NOT NULL,
    MEMBER_NO NUMBER NOT NULL
);

CREATE TABLE MEMBER_CART (
    CART_NUM NUMBER NOT NULL,
    PRODUCT_NO NUMBER NOT NULL,
    MEMBER_NO NUMBER NOT NULL,
    CART_AMOUNT NUMBER NOT NULL
);

CREATE TABLE REPLY_FILE (
    FILE_NO NUMBER NOT NULL,
    ORIGINNAME VARCHAR2(100) NOT NULL,
    CHANGENAME VARCHAR2(100) NOT NULL,
    REPLY_NO NUMBER NOT NULL,
    MEMBER_NO NUMBER NOT NULL
);

CREATE TABLE GUEST (
    GUEST_NO NUMBER NOT NULL,
    GUEST_NAME VARCHAR2(100) NOT NULL,
    GUEST_PW VARCHAR2(1000) NOT NULL,
    GUEST_ADDRESS1 VARCHAR2(500) NOT NULL,
    GUEST_ADDRESS2 VARCHAR2(300) NOT NULL,
    GUEST_POSTCODE VARCHAR2(300) NOT NULL,
    GUEST_DATE DATE DEFAULT SYSDATE NOT NULL
);

CREATE TABLE POINT (
    POINT_NO NUMBER NOT NULL,
    MEMBER_NO NUMBER NOT NULL,
    HISTORY VARCHAR2(200) NOT NULL,
    CHANGE_POINT NUMBER NOT NULL
);

CREATE TABLE GUEST_ORDERS (
    GUEST_ORDERS_NO NUMBER NOT NULL,
    GUEST_ORDERS_ADDRESS VARCHAR2(500) NOT NULL,
    GUEST_ORDERS_ADDRESS2 VARCHAR2(300) NULL,
    GUEST_ORDERS_POSTCODE VARCHAR2(300) NOT NULL,
    GUEST_ORDERS_DATE DATE DEFAULT SYSDATE NOT NULL,
    GUEST_NO NUMBER NOT NULL
);

CREATE TABLE GUEST_ORDERS_DETAIL (
    GUEST_ORDERS_DETAIL_NO NUMBER NOT NULL,
    PRODUCT_NO NUMBER NOT NULL,
    GUEST_ORDERS_DETAIL_AMOUNT NUMBER NOT NULL,
    GUEST_ORDERS_DETAIL_PRICE NUMBER NOT NULL,
    GUEST_ORDERS_NO NUMBER NOT NULL,
    GUEST_ORDERS_DETAIL_STATUS VARCHAR2(500) DEFAULT '승인대기' NOT NULL,
    GUEST_ORDERS_EXCHANGED VARCHAR2(20) DEFAULT 'N' NOT NULL,
    TRACKING_NUM NUMBER NULL
);

CREATE TABLE GUEST_ORDERS_EXCHANGE (
    GUEST_ORDERS_EXCHANGE_NO NUMBER NOT NULL,
    GUEST_ORDERS_EXCHANGE_TYPE VARCHAR2(100) NOT NULL,
    GUEST_ORDERS_EXCHANGE_AMOUNT NUMBER NOT NULL,
    GUEST_ORDERS_EXCHANGE_DATE DATE DEFAULT SYSDATE NOT NULL,
    GUEST_ORDERS_DETAIL_NO NUMBER NOT NULL,
    TRACKING_NUM NUMBER NOT NULL,
    GUEST_ORDERS_EXCHANGE_ADDRESS VARCHAR2(500) NOT NULL,
    GUEST_ORDERS_EXCHANGE_ADDRESS2 VARCHAR2(300) NOT NULL,
    GUEST_ORDERS_EXCHANGE_POSTCODE VARCHAR2(300) NOT NULL,
    GUEST_ORDERS_EXCHANGE_STATUS VARCHAR2(500) NOT NULL
);

CREATE TABLE GUEST_CART (
    GUEST_CART_NO NUMBER NOT NULL,
    PRODUCT_NO NUMBER NOT NULL,
    GUEST_NO NUMBER NOT NULL,
    GUEST_CART_AMOUNT NUMBER NOT NULL
);

CREATE TABLE NFILE (
    FILE_NO NUMBER NOT NULL,
    NFILE_ORIGINAL VARCHAR2(200) NOT NULL,
    NFILE_CHANGED VARCHAR2(200) NOT NULL,
    NOTICE_NO NUMBER NOT NULL
);

CREATE TABLE CHREPLY (
    CHREPLY_NO NUMBER NOT NULL,
    CHREPLY_CONTENT VARCHAR2(500) NOT NULL,
    QNA_NO NUMBER NOT NULL,
    MEMBER_NO NUMBER NOT NULL,
    RESDATE DATE DEFAULT SYSDATE NOT NULL
);

CREATE TABLE PRODUCT_PHOTOS (
    PHOTO_NO NUMBER NOT NULL,
    PRODUCT_NO NUMBER NOT NULL,
    PHOTO_NAME VARCHAR2(300) NOT NULL,
    PHOTO_CHANGE_NAME VARCHAR2(300) NOT NULL
);

-- Add primary keys
ALTER TABLE MEMBER ADD PRIMARY KEY (MEMBER_NO);
ALTER TABLE COMM ADD PRIMARY KEY (COMMENT_NO);
ALTER TABLE NOTICE ADD PRIMARY KEY (NOTICE_NO);
ALTER TABLE REPLY ADD PRIMARY KEY (REPLY_NO);
ALTER TABLE MEMBER_ORDERS ADD PRIMARY KEY (MEMBER_ORDERS_NO);
ALTER TABLE MEMBER_ORDERS_DETAIL ADD PRIMARY KEY (MEMBER_ORDERS_DETAIL_NO);
ALTER TABLE PRODUCT ADD PRIMARY KEY (PRODUCT_NO);
ALTER TABLE MEMBER_ORDERS_EX ADD PRIMARY KEY (MEMBER_ORDERS_EX_NO);
ALTER TABLE TRACKING_NUM ADD PRIMARY KEY (TRACKING_NUM);
ALTER TABLE TRACKING_INFO ADD PRIMARY KEY (TRACKING_INFO_NUM);
ALTER TABLE QNAFILE ADD PRIMARY KEY (QNAFILE_NO);
ALTER TABLE QNA ADD PRIMARY KEY (QNA_NO);
ALTER TABLE GENRE ADD PRIMARY KEY (TAG_NO);
ALTER TABLE MEMBER_GENRE ADD PRIMARY KEY (TAG_NO, MEMBER_NO);
ALTER TABLE MEMBER_CART ADD PRIMARY KEY (CART_NUM);
ALTER TABLE REPLY_FILE ADD PRIMARY KEY (FILE_NO);
ALTER TABLE GUEST ADD PRIMARY KEY (GUEST_NO);
ALTER TABLE POINT ADD PRIMARY KEY (POINT_NO);
ALTER TABLE GUEST_ORDERS ADD PRIMARY KEY (GUEST_ORDERS_NO);
ALTER TABLE GUEST_ORDERS_DETAIL ADD PRIMARY KEY (GUEST_ORDERS_DETAIL_NO);
ALTER TABLE GUEST_ORDERS_EXCHANGE ADD PRIMARY KEY (GUEST_ORDERS_EXCHANGE_NO);
ALTER TABLE GUEST_CART ADD PRIMARY KEY (GUEST_CART_NO);
ALTER TABLE NFILE ADD PRIMARY KEY (FILE_NO);
ALTER TABLE CHREPLY ADD PRIMARY KEY (CHREPLY_NO);
ALTER TABLE PRODUCT_PHOTOS ADD PRIMARY KEY (PHOTO_NO);

-- Add foreign keys with short names
ALTER TABLE COMM ADD CONSTRAINT FK_COMM_QNA FOREIGN KEY (QNA_NO) REFERENCES QNA(QNA_NO);
ALTER TABLE COMM ADD CONSTRAINT FK_COMM_MEMBER FOREIGN KEY (MEMBER_NO) REFERENCES MEMBER(MEMBER_NO);
ALTER TABLE REPLY ADD CONSTRAINT FK_REPLY_PRODUCT FOREIGN KEY (PRODUCT_NO) REFERENCES PRODUCT(PRODUCT_NO);
ALTER TABLE REPLY ADD CONSTRAINT FK_REPLY_MEMBER FOREIGN KEY (MEMBER_NO) REFERENCES MEMBER(MEMBER_NO);
ALTER TABLE MEMBER_ORDERS ADD CONSTRAINT FK_MORDERS_MEMBER FOREIGN KEY (MEMBER_NO) REFERENCES MEMBER(MEMBER_NO);
ALTER TABLE MEMBER_ORDERS_DETAIL ADD CONSTRAINT FK_MORDDETAIL_PRODUCT FOREIGN KEY (PRODUCT_NO) REFERENCES PRODUCT(PRODUCT_NO);
ALTER TABLE MEMBER_ORDERS_DETAIL ADD CONSTRAINT FK_MORDDETAIL_ORDER FOREIGN KEY (ORDERS_NO) REFERENCES MEMBER_ORDERS(MEMBER_ORDERS_NO);
ALTER TABLE MEMBER_ORDERS_DETAIL ADD CONSTRAINT FK_MORDDETAIL_TRACK FOREIGN KEY (TRACKING_NUM) REFERENCES TRACKING_NUM(TRACKING_NUM);
ALTER TABLE MEMBER_ORDERS_EX ADD CONSTRAINT FK_MEXCHANGE_DETAIL FOREIGN KEY (ORDERS_DETAIL_NO) REFERENCES MEMBER_ORDERS_DETAIL(MEMBER_ORDERS_DETAIL_NO);
ALTER TABLE MEMBER_ORDERS_EX ADD CONSTRAINT FK_MEXCHANGE_TRACK FOREIGN KEY (TRACKING_NUM) REFERENCES TRACKING_NUM(TRACKING_NUM);
ALTER TABLE TRACKING_INFO ADD CONSTRAINT FK_TRACKINFO_NUM FOREIGN KEY (TRACKING_NUM) REFERENCES TRACKING_NUM(TRACKING_NUM);
ALTER TABLE QNAFILE ADD CONSTRAINT FK_QNAFILE_QNA FOREIGN KEY (QNA_NO) REFERENCES QNA(QNA_NO);
ALTER TABLE MEMBER_GENRE ADD CONSTRAINT FK_MGENRE_TAG FOREIGN KEY (TAG_NO) REFERENCES GENRE(TAG_NO);
ALTER TABLE MEMBER_GENRE ADD CONSTRAINT FK_MGENRE_MEMBER FOREIGN KEY (MEMBER_NO) REFERENCES MEMBER(MEMBER_NO);
ALTER TABLE MEMBER_CART ADD CONSTRAINT FK_MCART_PRODUCT FOREIGN KEY (PRODUCT_NO) REFERENCES PRODUCT(PRODUCT_NO);
ALTER TABLE MEMBER_CART ADD CONSTRAINT FK_MCART_MEMBER FOREIGN KEY (MEMBER_NO) REFERENCES MEMBER(MEMBER_NO);
ALTER TABLE REPLY_FILE ADD CONSTRAINT FK_RFILE_REPLY FOREIGN KEY (REPLY_NO) REFERENCES REPLY(REPLY_NO);
ALTER TABLE REPLY_FILE ADD CONSTRAINT FK_RFILE_MEMBER FOREIGN KEY (MEMBER_NO) REFERENCES MEMBER(MEMBER_NO);
ALTER TABLE POINT ADD CONSTRAINT FK_POINT_MEMBER FOREIGN KEY (MEMBER_NO) REFERENCES MEMBER(MEMBER_NO);
ALTER TABLE GUEST_ORDERS ADD CONSTRAINT FK_GORDERS_GUEST FOREIGN KEY (GUEST_NO) REFERENCES GUEST(GUEST_NO);
ALTER TABLE GUEST_ORDERS_DETAIL ADD CONSTRAINT FK_GORDDETAIL_PRODUCT FOREIGN KEY (PRODUCT_NO) REFERENCES PRODUCT(PRODUCT_NO);
ALTER TABLE GUEST_ORDERS_DETAIL ADD CONSTRAINT FK_GORDDETAIL_ORDER FOREIGN KEY (GUEST_ORDERS_NO) REFERENCES GUEST_ORDERS(GUEST_ORDERS_NO);
ALTER TABLE GUEST_ORDERS_DETAIL ADD CONSTRAINT FK_GORDDETAIL_TRACK FOREIGN KEY (TRACKING_NUM) REFERENCES TRACKING_NUM(TRACKING_NUM);
ALTER TABLE GUEST_ORDERS_EXCHANGE ADD CONSTRAINT FK_GEXCHANGE_DETAIL FOREIGN KEY (GUEST_ORDERS_DETAIL_NO) REFERENCES GUEST_ORDERS_DETAIL(GUEST_ORDERS_DETAIL_NO);
ALTER TABLE GUEST_ORDERS_EXCHANGE ADD CONSTRAINT FK_GEXCHANGE_TRACK FOREIGN KEY (TRACKING_NUM) REFERENCES TRACKING_NUM(TRACKING_NUM);
ALTER TABLE GUEST_CART ADD CONSTRAINT FK_GCART_PRODUCT FOREIGN KEY (PRODUCT_NO) REFERENCES PRODUCT(PRODUCT_NO);
ALTER TABLE GUEST_CART ADD CONSTRAINT FK_GCART_GUEST FOREIGN KEY (GUEST_NO) REFERENCES GUEST(GUEST_NO);
ALTER TABLE NFILE ADD CONSTRAINT FK_NFILE_NOTICE FOREIGN KEY (NOTICE_NO) REFERENCES NOTICE(NOTICE_NO);
ALTER TABLE CHREPLY ADD CONSTRAINT FK_CHREPLY_QNA FOREIGN KEY (QNA_NO) REFERENCES QNA(QNA_NO);
ALTER TABLE CHREPLY ADD CONSTRAINT FK_CHREPLY_MEMBER FOREIGN KEY (MEMBER_NO) REFERENCES MEMBER(MEMBER_NO);
ALTER TABLE PRODUCT_PHOTOS ADD CONSTRAINT FK_PPHOTOS_PRODUCT FOREIGN KEY (PRODUCT_NO) REFERENCES PRODUCT(PRODUCT_NO);



commit;